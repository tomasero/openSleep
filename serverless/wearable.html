<!DOCTYPE html>
<html>
<head>

  <meta charset="utf-8">
  <meta name="description" content="dormio">
  <meta name="author" content="Christina Chen">

  <link rel="apple-touch-icon" sizes="180x180" href="/dormio/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/dormio/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/dormiofavicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">

  <title>dormio | wearable </title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="css/style.css">
  <link rel="stylesheet" type="text/css" href="css/style_wearable.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.0/TweenMax.min.js"></script>
  <script src="js/multithread.js"></script>
  <script src="js/d3.v4.min.js"></script>
  <script src="js/FileSaver.min.js"></script>
  <script src="js/jszip.min.js"></script>
  <script src="js/hr.js"></script>
  <script src="js/script_wearable.js"></script>
  <script src="js/WebAudioRecorder.min.js"></script>

</head>

<body>
	<div id = "container">

    	<div id = "header">
      		<a href = "index.html"><img src="img/icon.png" id="icon"></a>
      		<div id = "links">
      			<a href="https://www.media.mit.edu/"><img src="img/ml_symbol.png" id="ml"></a>
				    <a href="https://www.media.mit.edu/groups/fluid-interfaces/overview/"><img src="img/fluid_symbol.png" id="fluid"></a>
      		</div>
    	</div> <!-- close header-->

    	<div id = "main">

			  <div id="userform" class="overlay">

  				<div class="overlay-content">

  					<h1 style = "text-align: center; font-size: 60px">d o r m i o</h1>
  					<h3 style = "text-align: center; font-size: 18px;">to begin, fill out the following information to customize your timer-based dream incubation session.</h3>

			    	<!-- name -->
			    	<div id="user-name" class="user-elem">
        				<label>what is your name?</label>
        				<input type="text" name="name" id="name">
      			</div>

      				<!-- subject -->
      				<div id="user-dream-subject" class="user-elem">
        				<label for = "dream-subject">what do you want to dream about?</label>
        				<span class="tooltip">
                 		<img src = "img/tooltip.svg">
                  	<span class="tooltiptext">the subject that you want to dream about. could be a word, like "elephants", or a phrase, like "elephants at the beach." </span>
                </span>
        				<input type="text" name="dream_subject" id="dream-subject">
      				</div>

              <!-- big recording box-->
      				<div class = "recording-container user-elem">

                <!-- record sleep -->
      					<div class="recording-elem">
        				  <label for = "record-sleep">record prompt message</label>
           				<span class="tooltip">
                 	    <img src = "img/tooltip.svg">
                  		<span class="tooltiptext">a message to remind yourself what to dream about as you fall asleep. could be something like, "remember to think about elephants."</span>
               		</span>

        					<div class = "recording-content" id = "record-sleep">
          						<img src="img/microphone.svg" id="mic">
            					<div class = "record-buttons">
            					   <input type="submit" name="record_sleep_message" id="record-sleep-message" class = "big-button" value="record">
                				 <div class = "small-record-buttons">
                  					<input type="submit" name="listen_sleep_message" class = "small-button small-left-button" id="listen-sleep-message" value="listen">
                  					<input type="submit" name="clear_sleep_message" class = "small-button small-right-button" id="clear-sleep-message" value="clear">
                				 </div> <!-- close small record buttons-->
            					</div> <!-- close record buttons -->
        					</div> <!-- close recording content -->
      					</div> <!-- close record sleep -->

                <!-- record wake -->
      					<div class="recording-elem">
        					<label for = "record-wakeup">record wakeup message </label>
        					<span class="tooltip">
                 			<img src = "img/tooltip.svg">
                  			<span class="tooltiptext">a message to wake yourself up and request a dream report. could be something like, "tell me what you're thinking about."</span>
                 	</span>

        					<div class = "recording-content" id = "record-wakeup">
          						<img src="img/microphone.svg" id="mic">
            					<div class = "record-buttons">
          							 <input type="submit" name="record_wakeup_message" class = "big-button" id="record-wakeup-message" value="record">
							           <div class = "small-record-buttons">
          							    <input type="submit" name="listen_wakeup_message" class = "small-button small-left-button" id="listen-wakeup-message" value="listen">
          								  <input type="submit" name="clear_wakeup_message" class = "small-button small-right-button" id="clear-wakeup-message" value="clear">
               						</div> <!-- close small record buttons-->
              				</div> <!-- close record buttons -->
       						 </div> <!-- close recording content -->
      					 </div> <!-- close record wakeup -->

      				</div> <!-- close recording container -->

      				<div id = "dropdowns">

      					<div id = "user-loops" class = "user-elem">
              		<label for="loops">you want to catch </label>
              		<input id = "loops" list="loops-list" name="loops">
 							    <datalist id="loops-list">
    							   <option value="1"></option>
    							   <option value="2"></option>
    							   <option value="3"></option>
    							   <option value="4"></option>
    							   <option value="5"></option>
							    </datalist>
              		<label> dreams.</label>
              		<span class="tooltip">
                 			<img src = "img/tooltip.svg">
                  		<span class="tooltiptext">this is how many times you want to be woken up and fall back asleep.</span>
                 	</span>
            		</div> <!-- close user loops -->


            		<div id = "user-hypna-latency" class = "user-elem">
              		<label for="hypna-latency">you want to stay in hypnagogia for </label>
              		<input id = "hypna-latency" list="hypna-latency-list" name="hypna_latency">
 							    <datalist id="hypna-latency-list">
    							   <option value="1"></option>
    							   <option value="2"></option>
    							   <option value="3"></option>
							    </datalist>
              		<label> minutes.</label>
              		<span class="tooltip">
                 			<img src = "img/tooltip.svg">
                  		<span class="tooltiptext">this is the amount of time that you'll stay in a state of light sleep (hypnagogia) before the dormio system prompts you again to remind you what to dream about.</span>
                  </span>
            		</div> <!-- close hypna-latency-->

                <div id = "user-time-until-sleep" class = "user-elem">
                  <label for="time-until-sleep-min">it will take </label>
                  <input id = "time-until-sleep-min" list="time-until-sleep-min-list" name="time_until_sleep_min">
                  <datalist id="time-until-sleep-list-min">
                      <option value="5"></option>
                      <option value="10"></option>
                      <option value="15"></option>
                  </datalist>
                  <label> to </label>
                  <input id = "time-until-sleep-max" list="time-until-sleep-list-max" name="time_until_sleep_max">
                  <datalist id="time-until-sleep-list-max">
                      <option value="10"></option>
                      <option value="15"></option>
                      <option value="25"></option>
                  </datalist>
                  <label>minutes for you to fall asleep.</label>
                  <span class="tooltip">
                      <img src = "img/tooltip.svg">
                      <span class="tooltiptext">this step is optional, and wards against too-early and too-late sleep detection. it is the approximate range of time in which you'll fall asleep when you lie down. dormio will pick a time in this range to give the first prompt.</span>
                  </span>
                </div> <!-- close time until sleep -->


            		<div id = "user-time-between-sleep" class = "user-elem">
              		<label for="time-between-sleep">after your first wakeup, it'll take </label>
              		<input id = "time-between-sleep" list="time-between-sleep-list" name="time_until_sleep">
 							    <datalist id="time-between-sleep-list">
    							   <option value="3"></option>
    							   <option value="5"></option>
    							   <option value="7"></option>
							    </datalist>
              		<label> minutes to fall asleep again.</label>
              		<span class="tooltip">
                 	    <img src = "img/tooltip.svg">
                  		<span class="tooltiptext">this is about how long it will take for you to fall asleep again after being awoken by dormio and reporting your dream.</span>
                 	</span>
            		</div> <!-- close time between sleep -->

                <div id = "user-calibration-time" class = "user-elem">
                  <label for="calibration time">you want to calibrate dormio for </label>
                  <input id = "calibration-time" list="calibration-time-list" name="calibration_time">
                  <datalist id="calibration-time-list">
                      <option value="3"></option>
                      <option value="5"></option>
                      <option value="7"></option>
                  </datalist>
                  <label> minutes.</label>
                  <span class="tooltip">
                      <img src = "img/tooltip.svg">
                      <span class="tooltiptext">this is how long dormio will spend calibrating your biosignals.</span>
                  </span>
                </div> <!-- close calibration time -->

            		<div id = "user-recording-time" class = "user-elem">
              		<label for="recording-time">you'll record your dream report for</label>
              		<input id = "recording-time" list="recording-time-list" name="recording_time">
 							    <datalist id="recording-time-list">
    						      <option value="30"></option>
    							    <option value="60"></option>
    							    <option value="90"></option>
						      </datalist>
              		<label> seconds.</label>
              		<span class="tooltip">
                 		 <img src = "img/tooltip.svg">
                  	 <span class="tooltiptext">this is how long dormio will record your dream report for.</span>
                 	</span>
            		</div> <!-- close recording time -->

                </div>  <!-- close dropdowns -->

            		<div id = "start-button-container" class =  "user-elem">
            			 <h3 style = "text-align: center; font-size: 18px;">after you press the start button, lay down, relax, and drift into sleep.</h3>
                   <input type = "submit" id="start_button" value = "start wearable session">
					      </div> <!-- close start button container -->

  			</div> <!-- close overlay content-->

  			<div id = "closer"><img src="img/left-arrow.svg"></div>

		</div>  <!-- close overlay -->

		<div id = "opener"><img src="img/right-arrow.svg"></div>

    <div id = "other">
    <div id="channels">

      <div id="channel-bpm" class="channel">
          <img id="hr-img" src="img/hr.svg">
          <div id="bpm" class="channel-value">0</div>
      </div>

      <div id="channel-flex" class="channel">
          <img src="img/flex.svg" id="flex-img">
          <div id="flex" class="channel-value">0</div>
      </div>

      <div id="channel-eda" class="channel">
          <img src="img/eda.svg" id="eda-img">
          <div id="eda" class="channel-value">0</div>
      </div>

    </div> <!-- close channels -->

    <svg width="1200" height="500" id="plot"></svg>

    <div id = "right">

      <div class = deltas>

            <div id = "delta_input_hr" class = "delta">
                 <input type="text" name="delta_hr" id="delta-hr">
                <span class = "delta-label">hr</span>
            </div>

            <div id = "delta_input_flex" class = "delta">
              <input type="text" name="delta_flex" id="delta-flex">
              <span class = "delta-label">flex</span>
            </div>

            <div id = "delta_input_eda" class = "delta">
            <input type="text" name="delta_eda" id="delta-eda">
              <span class = "delta-label">eda</span>
            </div>

      </div> <!--close deltas-->

       <div class="buttons-right">
          <div id = "play-buttons">
            <button id = "play-sleep"><img src = "img/sleep_button.svg"></button>
            <button id = "play-wakeup"><img src = "img/wakeup_button.svg"></button>
          </div>
          <button id="connect">Connect</button>
          <button id="start_session">Start Session</button>
          <button id="stop_session" style="background:rgba(255, 0, 0, .4);">Stop Session</button>
          <button id="calibrate">Calibrating...</button>
        </div> <!-- close buttons right -->

      </div> <!-- close right -->
      </div> <!-- close other -->
	</div> <!-- end main -->
</div><!-- end big container -->

</body>



</html>
